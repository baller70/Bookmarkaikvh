# =============================================================================
# BookmarkHub SECURE Environment Configuration
# =============================================================================
# Copy this file to .env.local and fill in your actual values
# NEVER commit actual secrets to version control

# =============================================================================
# CRITICAL SECURITY REQUIREMENTS
# =============================================================================

# Authentication Secret (REQUIRED - Generate with: openssl rand -base64 32)
NEXTAUTH_SECRET=CHANGE-THIS-TO-A-SECURE-32-CHARACTER-SECRET

# Encryption key for client-side storage (32 characters)
ENCRYPTION_KEY=CHANGE-THIS-TO-A-32-CHARACTER-KEY

# =============================================================================
# SUPABASE CONFIGURATION (REQUIRED)
# =============================================================================

# Public Supabase URL (safe to expose to client)
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co

# Public anonymous key (safe to expose to client)
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here

# CRITICAL: Service role key - NEVER expose to client-side code
# This key has full database access - keep it secure!
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Authentication bypass (DEVELOPMENT ONLY)
# CRITICAL: MUST be 'false' in production
BYPASS_AUTHENTICATION=false

# Rate limiting configuration
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW_MS=900000

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Node environment
NODE_ENV=development

# Application URL (for redirects and webhooks)
NEXT_PUBLIC_APP_URL=http://localhost:3000

# =============================================================================
# OPTIONAL SERVICES
# =============================================================================

# OpenAI API Key (for AI features)
OPENAI_API_KEY=sk-your-openai-key-here

# Sentry DSN (for error tracking)
NEXT_PUBLIC_SENTRY_DSN=your-sentry-dsn-here

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable file storage fallback (for development)
ENABLE_FILE_STORAGE_FALLBACK=false

# Disable Redis (for development)
REDIS_DISABLE=true

# =============================================================================
# SECURITY CHECKLIST
# =============================================================================

# âœ… BEFORE PRODUCTION DEPLOYMENT:
# 
# 1. Set BYPASS_AUTHENTICATION=false
# 2. Generate unique NEXTAUTH_SECRET (32+ characters)
# 3. Generate unique ENCRYPTION_KEY (32 characters)
# 4. Use production Supabase keys
# 5. Set NODE_ENV=production
# 6. Use HTTPS URLs only
# 7. Rotate all secrets from development
# 8. Enable monitoring and logging
# 9. Test all security features
# 10. Review all environment variables

# =============================================================================
# GENERATING SECURE SECRETS
# =============================================================================

# Generate NEXTAUTH_SECRET (32 characters):
# openssl rand -base64 32

# Generate ENCRYPTION_KEY (32 characters):
# openssl rand -hex 16

# Generate random password (24 characters):
# openssl rand -base64 24

# =============================================================================
# ENVIRONMENT-SPECIFIC EXAMPLES
# =============================================================================

# DEVELOPMENT (.env.local):
# NODE_ENV=development
# BYPASS_AUTHENTICATION=true  # Only for development!
# NEXT_PUBLIC_APP_URL=http://localhost:3000

# STAGING (.env.staging):
# NODE_ENV=staging
# BYPASS_AUTHENTICATION=false
# NEXT_PUBLIC_APP_URL=https://staging.bookmarkhub.com

# PRODUCTION (.env.production):
# NODE_ENV=production
# BYPASS_AUTHENTICATION=false
# NEXT_PUBLIC_APP_URL=https://bookmarkhub.com

# =============================================================================
# SECURITY WARNINGS
# =============================================================================

# ðŸš¨ NEVER commit files containing actual secrets
# ðŸš¨ NEVER set BYPASS_AUTHENTICATION=true in production
# ðŸš¨ NEVER expose SUPABASE_SERVICE_ROLE_KEY to client-side code
# ðŸš¨ ALWAYS use HTTPS in production
# ðŸš¨ ALWAYS rotate secrets when team members leave
# ðŸš¨ ALWAYS use different secrets for each environment
